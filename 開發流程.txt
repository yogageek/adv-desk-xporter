[ok] 檢查環境預設語言的API / QueryTranslationLangs
[ok] 匯入的狀態值 用channel做寫入 在ws取出 匯入處理先看這支 fnimport_new
[ok] 在Processer介面	新增//GetTotal() int //要在fnimport_iface_impl裡為每個type新增GetTotal方法	//還需知道每做完一筆的count數量有沒有對上
[ok] websocket發送機制修改
[ok] 正確取得即時匯入數
[tbd] http api改即時回覆 已經發生timeout問題(目前先改成設定2分鐘timeout) -> 目前import可以 export不行

[ok] GET 取得匯入匯出操作紀錄
[ok] 紀錄匯入匯出操作紀錄(存db)
[ok] 蒐集匯入錯誤並存入log
[ok] 匯出-取得即時匯出數量
[ok] 匯出-取得匯出總數
[ok] 匯出-匯出新增到websocket

[x] 匯入前預判錯誤

---------->
[] 多語言資料都要匯入 需要改graphql 將其他lang的資料拿出 並在匯入時需要多打新的API將語言資料加入

我提議：
直接拿匯出的欄位本身和預設語言，匯入到目標的欄位本身和預設語言，預設語言可能不同，不用管也照寫內容
非預設語言如果匯出方和匯入方有相同的才寫入

其中 B 的預設語言為 X
1. 檢查 X 有沒有在 A 的支援語言裡面(translationLangs)，沒有提示失敗訊息，有的話就下一步
2. 檢查 A 所有資料的必填可翻譯欄位有沒有 X 語言的翻譯，只要有任一缺失就提示失敗訊息，都有的話開始匯入資料

A 要匯入到 B
 
其中 B 的預設語言為 X
 
## 檢查預設語言
 
1. 檢查 X 是否存在
   1. 沒有提示失敗訊息
   2. 有的話就下一步
2. 檢查 X 有沒有在 A 的支援語言裡面(translationLangs)
   1. 沒有提示失敗訊息
   2. 有的話就下一步
3. 檢查 A 所有資料的必填可翻譯欄位有沒有 X 語言的翻譯
   1. 只要有任一缺失就提示失敗訊息
   2. 都有的話開始匯入流程
 
## 匯入流程
 
1. 查看 A 的所有支援語言是否在 B 裡面
   1. 沒有的話在 B 裡新增缺失的支援語言(Mutation.addTranslationLang)，並繼續下一步。
2. 開始匯入資料
 
要注意的是再匯入時，原資料欄位要改成X語言的翻譯

CY:
1.有 Mutation.updateMachineStatus , Mutation.translateMachineStatus 可以 update Machine Status
匯入端的 status id 要先列出所有匯入端的 status ，用 index 來找出 status 來取用 id
2.Mapping Code 對應到 Status 要用 index 找匯入端的 status id 來對應，以 index 為主，因為 id 一定不一樣

<----------

//轉移pkg
gomove -d $GOPATH/src/github.com/ksubedi/new-project github.com/ksubedi/go-web-seed github.com/ksubedi/new-project

做完
1.取得匯入環境的預設語言

新增
1.匯入前檢查錯誤功能
(需比對各匯入物件&匯入環境的資料)

2.當前已匯入數&需匯入總數的值的取得
(需解析各匯入物件的最底層物件數)

3.當前匯入數的變動值使用go channel技術傳送至webosocket端

4.多語言資料的匯入
(需多串接略估10隻graphql)

修改
1.修改websocket事件發送機制
(改為有事件才發送 需判斷有事件的資料傳送方式及邏輯)


c := make(chan bool) //建立一個無緩衝的bool型Channel
c <- x        //向一個Channel傳送一個值
<- c          //從一個Channel中接收一個值
x = <- c      //從Channel c接收一個值並將其儲存到x中
x, ok = <- c  //從Channel接收一個值，如果channel關閉了或沒有資料，那麼ok將被置為false

